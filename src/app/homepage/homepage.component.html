<!-- NAVBAR -->
<nav class="navbar ml-auto">
  <a class="navbar-brand" (click)="homeMode()">
    <h1>JB</h1>
  </a>
  <ul class="nav justify-content-end">
    <li class="nav-item">
      <button class="btn btn-success" type="button" (click)="loginMode()">
        Login
      </button>
    </li>
    <li class="nav-item">
      <button class="btn btn-success" type="button" (click)="signUpMode()">
        SignUp
      </button>
    </li>
  </ul>
</nav>
<!-- BACKDROP PANEL -->
<div class="backdrop" *ngIf="login || signUp" (click)="homeMode()"></div>

<!-- WELCOME PANEL  -->
<div class="container" *ngIf="!login && !signUp">
  <div class="panel panel-default col-md-2">
    <div class="panel-title text-center">
      <h1>
        <a>J</a>
        <a>a</a>
        <a>v</a>
        <a>a</a>
        <a>I</a>
        <a>s</a>
        <a>l</a>
        <a>a</a>
        <a>n</a>
        <a>d</a>

        <a>B</a>
        <a>a</a>
        <a>n</a>
        <a>k</a>
      </h1>
    </div>
    <div class="panel-body text-center">
      <p>
        La <span style="font-variant: small-caps"><b>tua</b></span> isola
        sicura.
      </p>
    </div>
  </div>
</div>

<!-- LOGIN PANEL -->
<div class="container" *ngIf="login">
  <div class="panel panel-default col-md-2">
    <div class="panel-title text-center"><h3>JavaIsland</h3></div>
    <br />
    <!-- Pannello errore login -->
    <div class="alert alert-danger" *ngIf="loginErrorMessage">
      <p style="text-align: center">{{ loginErrorMessage }}</p>
    </div>
    <!-- Fine Pannello errore -->
    <div class="panel-body text-center">
      <form [formGroup]="loginForm" (ngSubmit)="onSubmitLogin()">
        <div class="col-xs-12 justify-content-center">
          <div class="form-group">
            <label for="email">E-mail</label>
            <input
              type="text"
              id="email"
              formControlName="email"
              class="form-control"
            />
            <!-- Messaggio errore in caso email non valida -->
            <span
              class="error help-block"
              *ngIf="
                !loginForm.get('email')?.valid &&
                loginForm.get('email')?.touched
              "
              >Inserire una email valida
            </span>
            <!-- Fine messaggio errore -->
          </div>
          <div class="form-group">
            <label for="password">Password</label>
            <input
              type="password"
              id="password"
              formControlName="password"
              class="form-control"
              password
            />
            <!-- Messaggio errore in caso password non valida -->
            <span
              class="error help-block"
              *ngIf="
                !loginForm.get('password')?.valid &&
                loginForm.get('password')?.touched
              "
              >Introdurre password
            </span>
            <!-- Fine messaggio errore -->
          </div>
          <button
            type="submit"
            class="btn btn-outline-success"
            [disabled]="!loginForm.valid"
          >
            Login
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- SIGNUP PANEL -->

<div class="container" *ngIf="signUp">
  <div class="vertical-center">
    <div class="panel panel-default col-md-2">
      <div class="panel-title text-center"><h3>JavaIsland</h3></div>
      <br />
      <!-- Pannello errore signUp -->
      <div class="alert alert-danger" *ngIf="signUpErrorMessage">
        <p style="text-align: center">{{ signUpErrorMessage }}</p>
      </div>
      <!-- Fine Pannello errore -->
      <div class="panel-body text-center">
        <form [formGroup]="signUpForm" (ngSubmit)="onSubmitSignUp()">
          <div class="col-xs-12 justify-content-center">
            <div class="form-group">
              <label for="name">Nome</label>
              <input
                type="text"
                text
                id="name"
                formControlName="name"
                class="form-control"
              />
              <!-- Messaggio errore in caso nome non valido -->
              <span
                class="error help-block"
                *ngIf="
                  !signUpForm.get('name')?.valid &&
                  signUpForm.get('name')?.touched
                "
                >Nome invalido
              </span>
              <!-- Fine messaggio errore -->
            </div>
            <div class="form-group">
              <label for="surname">Cognome</label>
              <input
                type="text"
                id="surname"
                formControlName="surname"
                class="form-control"
              />
              <!-- Messaggio errore in caso cognome non valid0 -->
              <span
                class="error help-block"
                *ngIf="
                  !signUpForm.get('surname')?.valid &&
                  signUpForm.get('surname')?.touched
                "
                >Cognome invalido
              </span>
              <!-- Fine messaggio errore -->
            </div>

            <div class="form-group">
              <label for="birthDate" class="date-label">Data di nascita</label>
              <div class="input-group mb-2 justify-content-center">
                <input
                  ngbDatepicker
                  #d="ngbDatepicker"
                  [minDate]="{ year: 1920, month: 1, day: 1 }"
                  [maxDate]="{ year: 2022, month: 1, day: 1 }"
                  placeholder="dd-mm-yyyy"
                  date="dd-mm-yyyy"
                  type="text"
                  id="birthDate"
                  formControlName="birthDate"
                  class="form-control custom-date"
                  (click)="d.toggle()"
                />
                <span
                  class="error"
                  class="input-group-text"
                  id="basic-addon2"
                  (click)="d.toggle()"
                >
                  <i class="fa-solid fa-calendar-days"></i>
                </span>
              </div>

              <!-- Messaggio errore in caso data di nascita non valida -->
              <span
                class="error help-block"
                *ngIf="
                  !signUpForm.get('birthDate')?.valid &&
                  signUpForm.get('birthDate')?.touched
                "
                >Inserire data valida
              </span>
              <!-- Fine messaggio errore -->
            </div>

            <div class="form-group">
              <label for="email">Email</label>
              <input
                type="text"
                id="email"
                formControlName="email"
                class="form-control"
              />
              <!-- Messaggio errore in caso email non valida -->
              <span
                class="error help-block"
                *ngIf="
                  !signUpForm.get('email')?.valid &&
                  signUpForm.get('email')?.touched
                "
                >Inserire email valida
              </span>
              <!-- Fine messaggio errore -->
            </div>
            <div class="form-group">
              <label for="password">Password</label>
              <input
                type="password"
                id="password"
                formControlName="password"
                class="form-control"
                password
              />
              <!-- Messaggio errore in caso password non valida -->
              <span
                class="error help-block"
                *ngIf="
                  !signUpForm.get('password')?.valid &&
                  signUpForm.get('password')?.touched
                "
                >Inserire password
              </span>
              <!-- Fine messaggio errore -->
            </div>
            <div class="form-group">
              <label for="confirmPassword">Conferma password</label>
              <input
                type="password"
                id="confirmPassword"
                formControlName="confirmPassword"
                class="form-control"
                password
              />
              <!-- Messaggio errore in caso conferma password vuota -->
              <span
                class="error help-block"
                *ngIf="
                  (signUpForm.get('confirmPassword')?.touched &&
                  signUpForm.errors?.['notmatched'])
                "
                >Le password non coincidono
              </span>
              <!-- Fine messaggio errore -->
            </div>
            <button
              type="submit"
              class="btn btn-outline-success"
              [disabled]="!signUpForm.valid"
            >
              SignUp
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- ANIMAZIONE -->
<div class="waveWrapper waveAnimation">
  <div class="waveWrapperInner bgMiddle">
    <div
      class="wave waveMiddle"
      style="
        background-image: url('http://front-end-noobs.com/jecko/img/wave-mid.png');
        image-rendering: smooth;
      "
    ></div>
  </div>
  <div class="waveWrapperInner bgBottom">
    <div
      class="wave waveBottom"
      style="
        background-image: url('http://front-end-noobs.com/jecko/img/wave-bot.png');
        image-rendering: smooth;
      "
    ></div>
  </div>
</div>
